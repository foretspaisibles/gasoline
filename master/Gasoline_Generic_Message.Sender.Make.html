<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="Up" href="Gasoline_Generic_Message.Sender.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Gasoline_Unicode" rel="Chapter" href="Gasoline_Unicode.html">
<link title="Gasoline_SysExits" rel="Chapter" href="Gasoline_SysExits.html">
<link title="Gasoline_Generic_Definition" rel="Chapter" href="Gasoline_Generic_Definition.html">
<link title="Gasoline_Generic_Asset" rel="Chapter" href="Gasoline_Generic_Asset.html">
<link title="Gasoline_Generic_Application" rel="Chapter" href="Gasoline_Generic_Application.html">
<link title="Gasoline_Plain_Definition" rel="Chapter" href="Gasoline_Plain_Definition.html">
<link title="Gasoline_Plain_Application" rel="Chapter" href="Gasoline_Plain_Application.html">
<link title="Gasoline_Plain_Filter" rel="Chapter" href="Gasoline_Plain_Filter.html">
<link title="Gasoline_Plain_UserTool" rel="Chapter" href="Gasoline_Plain_UserTool.html">
<link title="Gasoline_Plain_SecureTool" rel="Chapter" href="Gasoline_Plain_SecureTool.html">
<link title="Gasoline_Plain_Daemon" rel="Chapter" href="Gasoline_Plain_Daemon.html">
<link title="Gasoline_Generic_Message" rel="Chapter" href="Gasoline_Generic_Message.html">
<link title="Gasoline_Generic_Diagnostic" rel="Chapter" href="Gasoline_Generic_Diagnostic.html">
<link title="Gasoline_Plain_Message" rel="Chapter" href="Gasoline_Plain_Message.html">
<link title="Gasoline_Author_SGML" rel="Chapter" href="Gasoline_Author_SGML.html">
<link title="Gasoline_Author_HTML" rel="Chapter" href="Gasoline_Author_HTML.html">
<link title="Gasoline_LoremIpsum" rel="Chapter" href="Gasoline_LoremIpsum.html"><title>Gasoline library : Gasoline_Generic_Message.Sender.Make</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="Gasoline_Generic_Message.Sender.html" title="Gasoline_Generic_Message.Sender">Up</a>
&nbsp;</div>
<h1>Functor <a href="type_Gasoline_Generic_Message.Sender.Make.html">Gasoline_Generic_Message.Sender.Make</a></h1>

<pre><span class="keyword">module</span> Make <code class="code">(</code><code class="code">P</code><code class="code"> : </code><code class="type"><a href="Gasoline_Generic_Message.P.html">Gasoline_Generic_Message.P</a></code><code class="code">) </code>: <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html">S</a></code><code class="type"> 
    with type priority = P.Priority.t
     and type locale = P.Locale.t
     and type connection_token = P.MessageDB.connection_token
     and type out_channel = P.Data.out_channel
     and type value = P.Value.t</code></pre><table border="0" cellpadding="3" width="100%">
<tr>
<td align="left" valign="top" width="1%%"><b>Parameters: </b></td>
<td>
<table class="paramstable">
<tr>
<td align="center" valign="top" width="15%">
<code>P</code></td>
<td align="center" valign="top">:</td>
<td><code class="type"><a href="Gasoline_Generic_Message.P.html">Gasoline_Generic_Message.P</a></code>
</table>
</td>
</tr>
</table>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
<div class="info ">
The type of message senders.<br>
</div>


<pre><code><span id="TYPEcontrol"><span class="keyword">type</span> <code class="type"></code>control</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTcontrol.async">async</span>&nbsp;: <code class="type">bool</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Buffer messages<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTcontrol.delay">delay</span>&nbsp;: <code class="type">bool</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Delay messages<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTcontrol.drop">drop</span>&nbsp;: <code class="type">bool</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Drop messages<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
}

<div class="info ">
The type of message sender control bits.
<p>

    A message sender operating with the <code class="code">async</code> bit set never flushes
    implicitly its backend, otherwise it flushes its backend after each
    emission.
<p>

    A message sender operating with the <code class="code">delay</code> bit set does not emit the
    messages it receives but gather them in an internal storage. These
    messages can then be emitted or discarded, see <code class="code">proceed</code> and
    <code class="code">discard</code> below.
<p>

    A message sender operating with the <code class="code">drop</code> bit set drops every
    messagess it becomes, without actually doing anything.
<p>

    A fresh new message sender operates with all its control bits set to
    false.<br>
</div>


<pre><span id="VALget_control"><span class="keyword">val</span> get_control</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a> -><br>       <a href="Gasoline_Generic_Message.Sender.S.html#TYPEcontrol">control</a></code></pre><div class="info ">
Return the control bits of a message sender.
<p>

    The bits are mutable and can then be edited.<br>
</div>

<pre><span id="TYPEpriority"><span class="keyword">type</span> <code class="type"></code>priority</span> </pre>
<div class="info ">
The type of message priorities.<br>
</div>


<pre><span id="TYPEconnection_token"><span class="keyword">type</span> <code class="type"></code>connection_token</span> </pre>
<div class="info ">
The type of message database connection tokens.<br>
</div>


<pre><span id="TYPEout_channel"><span class="keyword">type</span> <code class="type"></code>out_channel</span> </pre>
<div class="info ">
The type of output channels.<br>
</div>


<pre><span id="TYPEvalue"><span class="keyword">type</span> <code class="type"></code>value</span> </pre>
<div class="info ">
The type of variable values that can occur in a message.<br>
</div>


<pre><span id="TYPElocale"><span class="keyword">type</span> <code class="type"></code>locale</span> </pre>
<div class="info ">
The type of locales.<br>
</div>


<pre><span id="VALmake"><span class="keyword">val</span> make</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEconnection_token">connection_token</a> -><br>       <a href="Gasoline_Generic_Message.Sender.S.html#TYPElocale">locale</a> -><br>       <a href="Gasoline_Generic_Message.Sender.S.html#TYPEout_channel">out_channel</a> -><br>       <a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a></code></pre><div class="info ">
Make a message sender.<br>
</div>

<pre><span id="VALsend"><span class="keyword">val</span> send</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a> -><br>       <a href="Gasoline_Generic_Message.Sender.S.html#TYPEpriority">priority</a> -><br>       string -> (string * <a href="Gasoline_Generic_Message.Sender.S.html#TYPEvalue">value</a>) list -> unit</code></pre><div class="info ">
<code class="code">send s c id binding</code> ask the sender <code class="code">s</code> to send the
    message identified by <code class="code">id</code> with priority <code class="code">c</code>, substituting
    message variables according to the <code class="code">binding</code>.<br>
<b>Raises</b><ul><li><code>Variable_not_found</code> to indicate a variable occuring
      in the message that is not bound in the <code class="code">binding</code>.</li>
<li><code>Message_not_found</code> to indicate the concrete form
      corresponding to <code class="code">id</code> on the message.</li>
<li><code>Invalid_message</code> to indicate an invalid concrete form
      for the message. The concrete form is given as argument to the
      error constructor and may be analysed with the lexer to find the
      precise origin of the error.</li>
</ul>
</div>

<pre><span id="VALsync"><span class="keyword">val</span> sync</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Require a sender to process all pending messages and to flush
    its backend.<br>
</div>

<pre><span id="VALflush"><span class="keyword">val</span> flush</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Another name for sync.<br>
</div>

<pre><span id="VALproceed"><span class="keyword">val</span> proceed</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Another name for sync.<br>
</div>

<pre><span id="VALdiscard"><span class="keyword">val</span> discard</span> : <code class="type"><a href="Gasoline_Generic_Message.Sender.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Require a sender to discard all pending messages.<br>
</div>
</body></html>